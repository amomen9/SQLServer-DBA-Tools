# 🏛️ SQL Server 2022 `AlwaysOn Contained Availability Groups` And Their Considerations

---

## 1. Introduction 📘

In this article, we will set up some SQL Server 2022 `AlwaysOn Contained Availability Groups` first, then we will note some important points and considerations about them including some security features and practices of these types of availability groups.

---

## 2. Set Up Contained `AlwaysOn` Availability Groups ⚙️

If you know how to set up ordinary `Availability Groups (AGs)`, your work is extremely easy. Everything prior to the `New Availability Group Wizard` is the same.

  
![]()
  

If you wish to start from (Ordinary) `AlwaysOn Availability Groups`, here is a link that you can use, then you can continue with this article:

[https://www.mssqltips.com/sqlservertip/2519/sql-server-alwayson-availability-groups-part-1-configuration/](https://www.mssqltips.com/sqlservertip/2519/sql-server-alwayson-availability-groups-part-1-configuration/)

Before we set up a Contained AG, we give some explanations about its features and limitations.

---

## 3. Contained Availability Groups Features and Limitations 🧩

Let’s clarify the differences.

The only differences between the configurations in the `New Availability Group Wizard` for ordinary AGs and `Contained AGs` are the options shown below in the red box on the first page of the configurations, like below:

  
![]()
  

Here you can choose whether to create an ordinary AG or a contained AG by checking or unchecking the `Contained` box.

As for `Reuse System Databases`, check this box if you want to reuse existing system databases from a previously created contained availability group of the same name. This suggests that you probably cannot back up your `master` and `msdb` databases from an old SQL Server instance (SQL Server 2019 and earlier) and then restore and reuse them inside a SQL Server 2022 contained availability group—those system databases must be created (or previously generated by a SQL Server 2022 contained AG of the same name) rather than migrated from an earlier major version.

---

## 4. Section Summary 📝

1. Ordinary AG setup steps prior to the wizard are identical for contained AGs.  
2. The `Contained` checkbox in the wizard enables contained AG behavior.  
3. The `Reuse System Databases` option applies only when reusing system databases previously generated for a contained AG of the same name and version.  
4. Direct reuse of `master` / `msdb` from earlier SQL Server versions for contained AG internals is not supported.

---

## 5. Key Terms Glossary 🔍

| Term | Meaning |
|------|---------|
| `Contained AG` | An availability group that encapsulates additional metadata (e.g., system databases) for isolation and portability. |
| `Ordinary AG` | Traditional availability group without contained system database enhancements. |
| `Reuse System Databases` | Wizard option to reattach previously created contained system databases of the same AG name. |
| `master` / `msdb` | Core SQL Server system databases (security, jobs, metadata). |
| `Wizard` | The graphical configuration workflow for AG creation. |

---

## 6. Notes & Considerations ⚠️

- The core message and content above remain unchanged except for completion of the technically truncated sentence regarding reuse of system databases.  
- Images are intentionally placeholders (`![]()`) and preserved as-is.  
- Exact one blank line has been enforced before and after every image per requirement.

---

**END**